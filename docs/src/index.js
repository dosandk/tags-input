"use strict";var _createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}();function _toConsumableArray(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var TagsInput=function(){function t(e){var n=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,t);var r=a.defaultTags,s=void 0===r?[]:r;this.$input=document.querySelector(e),this.tagsArr=[].concat(_toConsumableArray(s)),this.tagsArrProxy=new Proxy(this.tagsArr,{deleteProperty:function(){return n.insertTags(),!0},set:function(t,e,a){return t[e]=a,n.insertTags(),!0}})}return _createClass(t,[{key:"addEventListeners",value:function(){var t=this;this.$input.addEventListener("keypress",function(e){var n=e.which,a=e.target.value,r=a.trim();13===n&&r&&(t.$input.value="",t.tagsArrProxy.push(a))})}},{key:"createTagsList",value:function(){this.$tagsList=document.createElement("ul"),this.$tagsList.className="tags-list",this.$input.parentNode.insertBefore(this.$tagsList,this.$input.nextSibling)}},{key:"insertTags",value:function(){var t=this;this.$tagsList.innerHTML="",this.tagsArr.forEach(function(e,n){var a=document.createElement("li");a.className="tag-item",a.innerHTML='\n         <span class="tag-item-content">'+e+"</span>\n         <span data-id="+n+' class="tag-item-close-btn">x</span>\n       ',t.$tagsList.appendChild(a)}),this.addListenersForRemove()}},{key:"addListenersForRemove",value:function(){var t=this,e=document.getElementsByClassName("tag-item-close-btn");Array.from(e).forEach(function(e){e.addEventListener("click",function(e){var n=e.target.dataset.id;t.tagsArrProxy.splice(n,1)})})}},{key:"initialize",value:function(){this.addEventListeners(),this.createTagsList(),this.insertTags()}}]),t}();
